# Лабораторная работа №3

## Вариант: Алгоритмический мини-пакет (структуры данных и сортировки)

* **Тема:** Реализация алгоритмов сортировки и базовых структур данных
* **Цель:** Освоить внутреннее устройство алгоритмов сортировки без использования встроенных функций языка, реализовать структуры данных (Стек, Очередь) на базе связных списков, научиться проводить бенчмаркинг и анализ производительности.
* **Уровень:** Medium (поддержка ключей, компараторов, оптимизация стека $Фича: интерактивный$ $CLI$).
* **Библиотеки:** *random*, *time* (стандартная библиотека), *unittest*.

---

### **Функционал**

#### **Режимы работы**
Приложение поддерживает два режима работы:
1. **Интерактивный режим:** Пользователь вручную выбирает операции, вводит данные через консоль и получает результат. Доступна работа с:
   * Математическими функциями.
   * Всеми алгоритмами сортировок (ввод массива, выбор `reverse`).
   * Структурами данных (Stack, Queue) — пошаговое добавление/удаление элементов.
2. **Автоматический режим (Бенчмарки):** Запуск готового набора тестов для проверки производительности алгоритмов на больших массивах данных.

#### **Математические функции**

| Функция | Назначение |
| :--- | :--- |
| **factorial(n)** | Вычисление факториала (итеративно). |
| **factorial_recursive(n)** | Вычисление факториала (рекурсивно). |
| **fibo(n)** | Вычисление N-го числа Фибоначчи (итеративно). |
| **fibo_recursive(n)** | Вычисление N-го числа Фибоначчи (рекурсивно). |

#### **Алгоритмы сортировки**

Реализованы с поддержкой аргументов `key` (функция-ключ) и `reverse` (обратный порядок).

| Алгоритм | Сложность (Avg) | Особенности реализации |
| :--- | :--- | :--- |
| **Bubble Sort** | $O(N^2)$ | Оптимизация с флагом `swapped`. |
| **Quick Sort** | $O(N \log N)$ | Выбор опорного элемента "медиана из трех" (Median-of-three). |
| **Counting Sort** | $O(N + K)$ | Поддержка отрицательных чисел (сдвиг диапазона). |
| **Radix Sort** | $O(N \cdot K)$ | LSD (Least Significant Digit), работает с неотрицательными числами. |
| **Bucket Sort** | $O(N + K)$ | Нормализация float чисел, внутри корзин используется Bubble Sort. |
| **Heap Sort** | $O(N \log N)$ | Сортировка кучей (Binary Heap) без рекурсии на этапе построения. |

#### **Структуры данных**

Реализованы на базе **связного списка** (`Node`).

| Структура | Назначение | Особенности (Medium) |
| :--- | :--- | :--- |
| **Stack** | Принцип LIFO (Last In, First Out). | Метод `min()` работает за **$O(1)** благодаря хранению минимума в каждом узле. |
| **Queue** | Принцип FIFO (First In, First Out). | Операции `enqueue`/`dequeue` за $O(1)$ (указатели `front` и `rear`). |

---

### **Особенности реализации**

1. **Запрет built-in:** Не используются `list.sort()`, `sorted()` и `functools`.
2. **Medium features:**
   * Сортировки поддерживают параметры `key` и `reverse`.
   * Стек поддерживает получение минимума за константное время.
3. **Обработка ошибок:** Структуры данных выбрасывают `IndexError` при попытке доступа к пустым элементам. Математические функции выбрасывают `ValueError` при некорректных аргументах.
4. **Бенчмарки:** Реализована система замеров времени выполнения сортировок на различных типах массивов (случайные, отсортированные, с дубликатами).
5. **Интерактивный режим:** возможность переключения между подготовленными выводами и активным режимом, где пользователь сам вводит данные.

---

### **Чему я научился**

* Реализовывать классические алгоритмы сортировки "с нуля".
* Понимать разницу между $O(N^2)$ и $O(N \log N)$ на практике.
* Работать с динамическими структурами данных (связные списки) и управлять ссылками.
* Проектировать архитектуру модуля, разделяя логику, структуры и тесты.
* Писать генераторы тестовых данных и проводить профилирование кода.

---

### **Инструкция по запуску**

1. **Клонирование репозитория:**
   ```bash
   git clone <ссылка_на_репозиторий>
   cd <папка_проекта>
   ```
2. **Установка зависимостей:**
    ```bash
    pip install -r requirements.txt
    ```
3. **Запуск приложения:**
   ```bash
   python -m src.main
    ```
4. **Запуск тестов(Unittest):**
    ```bash
    python -m unittest tests.test -v # флаг -v для детализации вывода
    ```
### **Использование**

   * После запуска появится главное меню.
   * Выберите 1-3 для ручного тестирования функций.
   * Выберите 4 для запуска автоматических тестов производительности.
   * В интерактивном режиме следуйте подсказкам на экране (например, вводите числа через пробел для сортировки).

### Структура проекта:
- src
  - main.py - Точка входа, запуск тестов и бенчмарков.
  - sorts.py - Реализация алгоритмов сортировки.
  - structures.py - Классы Stack, Queue, Node.
  - math_algos.py - Факториал и Фибоначчи.
  - generators.py - Генерация массивов.
  - benchmark.py - Утилиты для замера времени.
- tests
  - test.py - Файл для запуска тестов на Unittest.
